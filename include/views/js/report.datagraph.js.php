<script type="text/javascript">

    function random(name) {
        var value = 0,
        values = [15435,5703,9205,15563,18103,17425,29323,13840,23630,10631,24634,4252,29291,24233,17557,5713,10928,14072,25231,20836,15168,19787,17399,21703,16978,4308,9299,26461,24142,6109,30369,27985,12830,10608,7681,1354,5641,25174,7437,32599,27848,24602,9838,21008,20309,11449,29626,29405,16099,30315,4902,20212,20387,1753,24784,20116,6223,17034,5176,18127,3792,18238,1505,9494,8388,19842,19293,25877,7564,8152,28202,16793,28873,20801,9323,12686,9520,18946,8319,11375,19439,28705,20048,9450,21215,27753,12458,11186,28910,20149,652,28792,6531,16752,29676,18058,22363,28683,5037,31723,24338,20484,29474,25301,25442,28591,8798,31479,19163,6708,2040,21874,26779,21747,31187,17399,21635,1618,18625,13890,19339,15980,25770,6783,16058,32604,6417,32507,17341,25233,26077,22258,26545,21936,21782,23883,6499,25915,15416,8227,6627,13928,8018,3189,9823,29981,1360,26141,10764,6936,28128,21895,20203,30218,17500,11030,32490,31066,24271,13355,8058,18541,16289,5237,21509,26401,32159,7196,13203,7211,8170,28721,22176,20034,10848,18095,14042,27578,16792,15927,24208,2735,6132,24024,24164,16013,30641,12778,16820,26557,21933,11394,22328,22620,19835,30556,595,19047,24555,30304,29868,31250,1549,787,1231,28115,25979,16751,7376,26682,25470,13493,29863,19367,825,20399,11790,15927,24143,17738,16639,25473,28894,21434,30759,9157,9592,15196,28715,29378,25730,28653,31870,28146,28674,20258,32059,28837,14830,27087,28123,24992,8684,16094,11199,24965,4760,349,21151,1680,32304,15977,10627,30238,1211,19706,729,12451,16806,7440,19772,17969,26262,24398,7402,28293,10987,20042,10783,1731,11145,24829,8601,5206,30030,32037,19808,12542,5626,3584,20007,4514,24512,26143,9123,28632,31641,8036,10012,17411,21903,29470,31175,5495,2371,19941,10706,27030,16711,19012,24747,6175,26964,10809,19596,20696,15313,15300,28686,21156,24694,8982,5979,8271,17167,26133,16246,6021,19597,26831,16675,10625,2616,3336,11539,26756,682,13727,1686,2776,17449,971,24110,29113,19202,18785,8485,10526,18110,5521,1899,22449,24398,20565,9945,9491,24476,22055,18710,32739,27755,16683,4625,30394,2026,18443,28359,6456,1022,22774,8604,10589,19967,19039,28075,12116,24878,16827,6708,31142,19593,31141,5811,3592,31042,8242,1179,12611,28125,6389,15383,26173,2222,11892,32444,14998,31518,12101,12909,21915,20869,18577,30822,13152,11004,24384,10719,19387,4388,32329,10763,133,22513,15775,15177,24197,13850,14127,13960,30527,2521,20691,6790,12421,14329,1196,27167,29398,25537,24119,11329,32346,30027,22350,30091,6176,600,2999,18813,1398,23945,10345,22072,8367,4701,13929,32648,3868,12797,4334,17686,28081,17710,1898,5391,16666,17681,6225,9072,22174,16397,28978,19618,24545,28457,5281,8768,16315,18421,28085,22798,32320,26312,8229,7981,30224,26202,28617,18973,3001,15362,25720,24680,29673,31468,18833,1597,27696,25067,17578,14107,7040,11249,31712,238,24102,19869,17261,22928,8531,6096,3254,11971,23994,5465,20063,27359,29732,7669,3300,29095,17236,319,29236,119,11360,10533,32344,7811,18464,27172,10733,12862,21535,3245,32514,9277,28513,29118,7046,20169,14521,20149,6235,23573,7812,7927,10287,23937,30732,3865,26053,3338,11468,11743,22183,15602,24351,16553,17461,18533,10169,16184,18576,2721,547,4163,22849,27011,30141,5670,23147,24429,3123,2077,29918,19805,15232,10176,90,18387,12949,30264,10696,25038,18754,24008,17274,8057,4896,20790,29879,26221,10700,19695,2283,12093,7108,3595,16317,18692,19899,26811,31638,4609,10656,29733,23138,6455,16048,12605,15203,2373,20997,3561,3999,25991,10377,23600,32669,21237,2996,3718,15977,10861,4861,21634,26464,31834,16668,16766,23246,15738,28104,10563,16093,23862,15150,6528,24826,24891,2915,25625,27902,27678,28480,7900,12997,34,32625,7458,25929,27328,851,25601,14641,5258,8400,24394,8235,17602,29181,15617,26834,24409,7165,19135,5760,26696,8513,27004,6636,397,2244,13077,32005,30273,29374,27378,21446,18098,3391,25225,20640,1160,12659,13591,12899,9394,22231,27988,24533,25081,23950,23793,6807,19821,1497,6879,30225,3510,28229,18236,32657,11823,15480,2919,26916,27421,23722,15135,6391,18431,27528,28990,19849,4307,13822,812,29498,6973,4583,99,5891,7766,19793,18807,18165,11977,22595,14091,29692,24567,30605,26512,17056,24459,16509,28556,4513,7609,13280,27618,5272,11223,2726,22576,30002,19691,5242,3160,15514,26487,979,25470,11290,12988,6820,19546,24585,5153,16841,10665,13864,9827,21137,21411,5068,2228,6698,24811,9961,25297,16592,26573,30224,21473,10372,7107,19108,7896,5817,8206,20977,24071,27451,8862,26454,25035,876,19594,17802,11424,433,26957,5396,5406,14350,31798,373,28461,17453,17457,15289,4543,21552,17000,31965,19688,28019,17628,29061,5064,22376,8986,16437,30291,24897,12470,22344,27090,32763,1583,21553,10723,18545,3913,16266,10749,30569,25208,1651,7680,13381,30212,14162,14382,29876,10050,31799,14333,28344,13014,7713,19189,24380,14329,5306,3826,24224,775,30452,26986,597,24905,14577,5768,31450,7337,26348,22804,30335,25082,16320,1969,21017,16084,29173,19313,7723,13981,16226,5052,28516,18140,22794,27766,4288,1631,25774,1248,19567,14372,26716,11337,3155,16929,22952,19122,9791,11452,13003,23104,27119,29126,8077,1493,9852,28979,30211,25751,12801,8068,22464,12718,22708,22458,11616,17751,31876,7372,14294,29125,32080,19992,24025,1883,2256,20864,19459,11982,1690,10607,4129,3651,9268,172,28441,6264,7696,26071,11984,6875,24003,29925,6655,1280,32578,1565,1949,32416,30539,7264,5182,4098,8993,1440,29503,2055,10159,4097,1272,3238,13178,13123,11546,11755,24925,28722,6024,15429,731,10776,17987,2724,23636,27739,2297,18840,26894,26135,10029,18154,30417,25699,31671,19881,23037,10606,8770,14465,24835,20799,18208,13254,17121,31132,5696,29395,12293,28960,13659,8968,15809,3921,13385,22128,1758,5426,17987,31270,2726,18367,27994,3118,28728,8356,15642,20251,4732,26414,9678,19440,16640,4303,9294,20905,491,2604,2132],
        i = 0,
        last;
        return context.metric(function(start, stop, step, callback) {
        start = +start, stop = +stop; //转换为整型
    /*
        if (isNaN(last)) last = start;
        while (last < stop) {
        last += step;
        value = Math.max(-10, Math.min(10, value + .8 * Math.random() - .4 + .2 * Math.cos(i += .2)));
        values.push(value);
        }*/
        callback(null, values = values.slice((start - stop) / step));
        //callback(null, values = values.slice((start - stop) / step));
        }, name);
    }


    var context = cubism.context()
    .serverDelay(0)
    .clientDelay(0)
    .step(1000)
    .size(1200)
    .stop();

    var foo = random("eth0"),
    bar = random("eth1");

    d3.select("#cubism").call(function(div) {

    div.append("div")
        .attr("class", "axis")
        .call(context.axis().orient("top"));

    div.selectAll(".horizon")
    .data([foo, bar])
    .enter().append("div")
    .attr("class", "horizon")
    .call(context.horizon().height(100).extent([-10000, 100000]));

    div.append("div")
    .attr("class", "rule")
    .call(context.rule());

    });



    // On mousemove, reposition the chart values to match the rule.
    context.on("focus", function(i) {
    /*
    if (window.innerWidth)
    var winWidth = window.innerWidth;
    else if ((document.body) && (document.body.clientWidth))
    var winWidth = document.body.clientWidth;
    */
    d3.selectAll(".value").style("right", i == null ? null : context.size() - i + "px");
    });



</script>